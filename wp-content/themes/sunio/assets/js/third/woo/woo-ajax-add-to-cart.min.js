jQuery(function(a){if("undefined"==typeof sunioLocalize||a(".woocommerce div.product").hasClass("product-type-grouped"))return!1;var b=function(){a(document.body).on("click",".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",this.onAddToCart).on("added_to_cart",this.updateButton)};b.prototype.onAddToCart=function(b){b.preventDefault();var c=a(this),d=a(this).val(),e=a('input[name="variation_id"]').val(),f=a('input[name="quantity"]').val(),g=a(this).closest(".variations_form"),h=g.find("select[name^=attribute]"),i={};c.removeClass("added"),c.addClass("loading"),h.length||(h=g.find("[name^=attribute]:checked")),h.length||(h=g.find("input[name^=attribute]")),h.each(function(){var b,c,d=a(this),e=d.attr("name"),f=d.val();d.removeClass("error"),0===f.length?(b=e.lastIndexOf("_"),c=e.substring(b+1),d.addClass("required error").before("Please select "+c)):i[e]=f}),""!=e?a.ajax({url:sunioLocalize.ajax_url,type:"POST",data:{action:"sunio_add_cart_single_product",product_id:d,variation_id:e,variation:i,quantity:f},success:function(b){return a(document.body).trigger("wc_fragment_refresh"),a(document.body).trigger("added_to_cart",[b.fragments,b.cart_hash,c]),"yes"===sunioLocalize.cart_redirect_after_add?void(window.location=sunioLocalize.cart_url):void 0}}):a.ajax({url:sunioLocalize.ajax_url,type:"POST",data:{action:"sunio_add_cart_single_product",product_id:d,quantity:f},success:function(b){return a(document.body).trigger("wc_fragment_refresh"),a(document.body).trigger("added_to_cart",[b.fragments,b.cart_hash,c]),"yes"===wc_add_to_cart_params.cart_redirect_after_add?void(window.location=wc_add_to_cart_params.cart_url):void 0}})},b.prototype.updateButton=function(a,b,c,d){d="undefined"==typeof d?!1:d,d&&(d.removeClass("loading"),d.addClass("added"),sunioLocalize.is_cart||0!==d.parent().find(".added_to_cart").length||d.after(' <a href="'+sunioLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+sunioLocalize.view_cart+'">'+sunioLocalize.view_cart+"</a>"))},new b});